<div class="flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-4">
  <mat-card class="w-full max-w-lg p-6 shadow-2xl">
    <mat-card-header class="mb-6">
      <mat-card-title class="text-2xl font-bold text-gray-800">Inscription - Logismart</mat-card-title>
      <mat-card-subtitle class="text-gray-600 mt-2">Créez votre compte client</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <!-- Username -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nom d'utilisateur</mat-label>
          <input matInput formControlName="username" type="text" />
          @if (username?.hasError('required') && username?.touched) {
            <mat-error>Le nom d'utilisateur est requis</mat-error>
          }
          @if (username?.hasError('minlength')) {
            <mat-error>Le nom d'utilisateur doit contenir au moins 3 caractères</mat-error>
          }
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" type="email" />
          @if (email?.hasError('required') && email?.touched) {
            <mat-error>L'email est requis</mat-error>
          }
          @if (email?.hasError('email')) {
            <mat-error>L'email doit être valide</mat-error>
          }
        </mat-form-field>

        <!-- First Name & Last Name in row -->
        <div class="grid grid-cols-2 gap-4">
          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Prénom</mat-label>
            <input matInput formControlName="firstName" type="text" />
            @if (firstName?.hasError('required') && firstName?.touched) {
              <mat-error>Le prénom est requis</mat-error>
            }
            @if (firstName?.hasError('minlength')) {
              <mat-error>Min 2 caractères</mat-error>
            }
          </mat-form-field>

          <mat-form-field appearance="outline" class="w-full">
            <mat-label>Nom</mat-label>
            <input matInput formControlName="lastName" type="text" />
            @if (lastName?.hasError('required') && lastName?.touched) {
              <mat-error>Le nom est requis</mat-error>
            }
            @if (lastName?.hasError('minlength')) {
              <mat-error>Min 2 caractères</mat-error>
            }
          </mat-form-field>
        </div>

        <!-- Password -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Mot de passe</mat-label>
          <input matInput formControlName="password" type="password" />
          @if (password?.hasError('required') && password?.touched) {
            <mat-error>Le mot de passe est requis</mat-error>
          }
          @if (password?.hasError('minlength')) {
            <mat-error>Le mot de passe doit contenir au moins 6 caractères</mat-error>
          }
        </mat-form-field>

        <!-- Confirm Password -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Confirmer le mot de passe</mat-label>
          <input matInput formControlName="confirmPassword" type="password" />
          @if (confirmPassword?.hasError('required') && confirmPassword?.touched) {
            <mat-error>La confirmation du mot de passe est requise</mat-error>
          }
          @if (registerForm.hasError('passwordMismatch') && confirmPassword?.touched) {
            <mat-error>Les mots de passe ne correspondent pas</mat-error>
          }
        </mat-form-field>

        <!-- Error message -->
        @if (errorMessage()) {
          <div class="bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm">
            {{ errorMessage() }}
          </div>
        }

        <!-- Submit button -->
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="registerForm.invalid || isLoading()"
          class="w-full">
          @if (isLoading()) {
            Inscription en cours...
          } @else {
            S'inscrire
          }
        </button>

        <!-- Login link -->
        <div class="text-center mt-6">
          <p class="text-sm text-gray-600">
            Vous avez déjà un compte?
            <a routerLink="/login" class="text-indigo-600 hover:text-indigo-800 font-medium hover:underline">
              Se connecter
            </a>
          </p>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>