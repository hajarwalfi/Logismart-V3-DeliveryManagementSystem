<div class="flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500">
  <mat-card class="w-full max-w-md p-6 shadow-2xl">
    <mat-card-header class="mb-6">
      <mat-card-title class="text-2xl font-bold text-gray-800">Connexion - Logismart</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <!-- Username field -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Nom d'utilisateur</mat-label>
          <input matInput formControlName="username" type="text" />
          @if (loginForm.get('username')?.hasError('required') && loginForm.get('username')?.touched) {
            <mat-error>Le nom d'utilisateur est requis</mat-error>
          }
        </mat-form-field>

        <!-- Password field -->
        <mat-form-field appearance="outline" class="w-full">
          <mat-label>Mot de passe</mat-label>
          <input matInput formControlName="password" type="password" />
          @if (loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched) {
            <mat-error>Le mot de passe est requis</mat-error>
          }
          @if (loginForm.get('password')?.hasError('minlength')) {
            <mat-error>Le mot de passe doit contenir au moins 6 caract√®res</mat-error>
          }
        </mat-form-field>

        <!-- Error message -->
        @if (errorMessage()) {
          <div class="bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg">
            {{ errorMessage() }}
          </div>
        }

        <!-- Submit button -->
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="loginForm.invalid || isLoading()"
          class="w-full">
          @if (isLoading()) {
            Connexion en cours...
          } @else {
            Se connecter
          }
        </button>

        <!-- Divider -->
        <div class="flex items-center my-6">
          <div class="flex-1 border-t border-gray-300"></div>
          <span class="px-4 text-sm text-gray-500 font-medium">OU</span>
          <div class="flex-1 border-t border-gray-300"></div>
        </div>

        <!-- OAuth2 buttons -->
        <div class="space-y-3">
          <!-- Google -->
          <button
            type="button"
            mat-stroked-button
            (click)="loginWithGoogle()"
            class="w-full flex items-center justify-center gap-3 border border-gray-300 hover:bg-gray-50 hover:border-blue-500 transition-all">
            <svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
              <path fill="#4285F4" d="M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"/>
              <path fill="#34A853" d="M9 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.957v2.332C2.438 15.983 5.482 18 9 18z"/>
              <path fill="#FBBC05" d="M3.964 10.71c-.18-.54-.282-1.117-.282-1.71s.102-1.17.282-1.71V4.958H.957C.347 6.173 0 7.548 0 9s.348 2.827.957 4.042l3.007-2.332z"/>
              <path fill="#EA4335" d="M9 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.463.891 11.426 0 9 0 5.482 0 2.438 2.017.957 4.958L3.964 7.29C4.672 5.163 6.656 3.58 9 3.58z"/>
            </svg>
            <span class="text-sm font-medium text-gray-700">Continuer avec Google</span>
          </button>

          <!-- Facebook -->
          <button
            type="button"
            mat-stroked-button
            (click)="loginWithFacebook()"
            class="w-full flex items-center justify-center gap-3 border border-gray-300 hover:bg-blue-50 hover:border-blue-600 transition-all">
            <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path fill="#1877F2" d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
            <span class="text-sm font-medium text-gray-700">Continuer avec Facebook</span>
          </button>

          <!-- Apple -->
          <button
            type="button"
            mat-stroked-button
            (click)="loginWithApple()"
            class="w-full flex items-center justify-center gap-3 border border-gray-300 hover:bg-gray-50 hover:border-gray-900 transition-all">
            <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path fill="#000000" d="M17.05 20.28c-.98.95-2.05.88-3.08.4-1.09-.5-2.08-.48-3.24 0-1.44.62-2.2.44-3.06-.4C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
            </svg>
            <span class="text-sm font-medium text-gray-700">Continuer avec Apple</span>
          </button>

          <!-- Auth0 -->
          <button
            type="button"
            mat-stroked-button
            (click)="loginWithAuth0()"
            class="w-full flex items-center justify-center gap-3 border border-gray-300 hover:bg-orange-50 hover:border-orange-500 transition-all">
            <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path fill="#EB5424" d="M21.98 7.448L19.62 0H4.347L2.02 7.448c-1.352 4.312.03 9.206 3.815 12.015L12.007 24l6.157-4.537c3.785-2.808 5.167-7.703 3.815-12.015zm-6.522 5.419l-3.465 2.544-3.466-2.546V7.886l3.466-2.545 3.465 2.545v4.981z"/>
            </svg>
            <span class="text-sm font-medium text-gray-700">Continuer avec Auth0</span>
          </button>
        </div>

        <!-- Register link -->
        <div class="text-center mt-6">
          <p class="text-sm text-gray-600">
            Vous n'avez pas de compte?
            <a routerLink="/register" class="text-indigo-600 hover:text-indigo-800 font-medium hover:underline">
              S'inscrire
            </a>
          </p>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>